# coreutil

Библиотека базовыми интерфейсами, типами и функциями.
В ней описываются интерфейсы для всех зависимостей, а так же базовые типы и функции.

Чтобы избежать высокой связанности библиотек между собой в coreutil описываются все интерфейсы,
а реализуются они в отдельных репозиториях. Таким образом, в конкретное приложение
может "подтягиваться" любая реализация логгера, клиента БД и т.д.

## AppContext

Пакет для работы с контекстом приложения. Позволяет добавлять и извлекать любые значения из контекста.

---

## Env

Пакет работы с environment приложения:
- AppName - название приложения
- AppVersion - версия приложения
- AppInstance - название экземпляра приложения (например, имя сервера)
- AppZone - зона приложения (тест, прод, стейдж и т.д.)

В пакете определены константы ключей для http-заголовков

---

## Logger

Интерфейсы для описания логгера приложения.

### Logger

В пакете собрано описание для различных логгеров:
- Runtime - основной рантайм-логгер приложения
- HttpClient - логгер для использования в различных http-клиентах приложения
- HttpServer - логгер для использования в http-сервере приложения
- EventManager - логгер для использования в работе с event-менеджером (входящие/исходящие события)

### Field

Field может использоваться для подготовки дополнительных полей для логгирования.

```go
log.Info("message", 
    logger.String("key1", "value1"),
    logger.Int("key2", 2),
    logger.Any("key3", time.Now()), 
)
```

### Message (http)

Для http-логгеров используются фиксированная структура данных HttpClientData, HttpServerData.

### Ctx

Описана константа ключа для добавления runtime-логгера в контекст, 
а так же функции реализующие работу с контекстом.

---

## SqlDb

Описание интерфейсов клиента работы с подключениями к персистентной БД приложения

## CacheDb / KeyValueDb

Описание интерфейсов клиента работы с KeyValue-хранилищем для организации кеширования

## ObjectDb

Описание интерфейсов клиента работы с объектным-хранилищем

